<!-- /src/index.html -->
<!DOCTYPE html>
<head>
    <title>My A-Frame Scene</title>
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script> 
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script> 
    <script src="https://unpkg.com/aframe-multi-video-component/dist/aframe-multi-video-component.min.js"></script>
   </head>

  <body>
      <script type="text/javascript">
          // Component to activate spaceship animation on click
        AFRAME.registerComponent('box5listner', {
          init: function () {
            var var_text2 = document.getElementById("ent_text2");
            this.el.addEventListener('mouseenter', function (evt) {
              var_text2.setAttribute('visible', 'true');
            });
            this.el.addEventListener('mouseleave', function (evt) {
              var_text2.setAttribute('visible', 'false');
            });
          }
        });
      </script>
      <a-scene>
      <a-assets>
          <script id="box1" type="text/x-nunjucks-template">
            <img id="boxtexture" src="https://i.imgur.com/mYmmbrp.jpg" crossOrigin="anonymous">
            <a-box src="#boxtexture" position="30 1.5 0" scale="6 6 6" rotation="150 50 150" radius="1.25" color="#00FFFF">
              <a-animation attribute="rotation" from="20 0 0" to="20 360 20" direction="alternate" dur="8000" repeat="indefinite"></a-animation>
            </a-box>
            </script>
          <script id="box2" type="text/x-nunjucks-template">
            <img id="boxtexture" src="https://i.imgur.com/mYmmbrp.jpg" crossOrigin="anonymous">
            <a-box src="#boxtexture" position="0 1.5 -30" scale="6 6 6" rotation="150 150 150" radius="1.25" color="#00FFFF">
              <a-animation attribute="rotation" from="20 0 0" to="20 360 20" direction="alternate" dur="8000" repeat="indefinite"></a-animation>
            </a-box>
            </script>
          <script id="box3" type="text/x-nunjucks-template">
            <img id="boxtexture" src="https://i.imgur.com/mYmmbrp.jpg" crossOrigin="anonymous">
            <a-box src="#boxtexture" position="-30 1.5 0" scale="6 6 6" rotation="150 150 100" radius="1.25" color="#00FFFF">
              <a-animation attribute="rotation" from="20 0 0" to="20 360 20" direction="alternate" dur="8000" repeat="indefinite"></a-animation>
            </a-box>
            </script>
          <script id="box4" type="text/x-nunjucks-template">
            <img id="boxtexture" src="https://i.imgur.com/mYmmbrp.jpg" crossOrigin="anonymous">
            <a-box src="#boxtexture" position="-20 1.5 -20" scale="6 6 6" rotation="150 150 100" radius="1.25" color="#00FFFF">
              <a-animation attribute="rotation" from="20 0 0" to="20 360 20" direction="alternate" dur="8000" repeat="indefinite"></a-animation>
            </a-box>
            </script>
          <script id="box5" type="text/x-nunjucks-template">
            <img id="boxtexture" src="https://i.imgur.com/mYmmbrp.jpg" crossOrigin="anonymous">
            <a-box src="#boxtexture" position="20 1.5 -20" scale="6 6 6" rotation="150 100 100" radius="1.25" color="#00FFFF">
              <a-animation attribute="rotation" from="20 0 0" to="20 360 20" direction="alternate" dur="8000" repeat="indefinite"></a-animation>
            </a-box>
            </script>
          <script id="text2" type="text/x-nunjucks-template">
                <a-text value="Hello, World!" position="0 8 -20" rotation="0 0 0" scale="10 10 10"></a-text>
              </script>

      </a-assets>
      <a-assets>
          <video muted id="vid" src="video/video2 new.mp4"
          crossOrigin="anonymous"
          autoplay="false"
          loop="true"
          style="display: none"></video>
      </a-assets>
      <a-assets>
        <img id="SGLogo" src="img/logo-SG.png">
        <img id="TeamName" src="img/cognitiveSquad.png">
      </a-assets>
      <a-entity camera look-controls>
          <a-entity cursor="fuse: false; fuseTimeout: 500"
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                    material="color: black; shader: flat">
          </a-entity>
        </a-entity>
    <a-box id="ent_box1" template='src: #box1' visible='false' box1listner></a-box>
    <a-box id="ent_box2" template='src: #box2' visible='false' box2listner></a-box>
    <a-box id="ent_box3" template='src: #box3' visible='false' box3listner></a-box>
    <a-box id="ent_box4" template='src: #box4' visible='false' box4listner></a-box>
    <a-box id="ent_box5" template='src: #box5' visible='false' box5listner></a-box>
    <a-box id="ent_text2" template='src: #text2' visible='false' text2listner></a-box>
    <a-image id ="logo" src="#SGLogo" position="30 18 -30" scale="15 15 15" rotation="0 0 0" width="0.8" height="0.40"></a-image> 
    <a-image id ="TN" src="#TeamName" position="30 -18 -30" scale="15 15 15" rotation="0 0 0" width="1" height="0.30"></a-image> 
    <a-video id="ent_vid" geometry="primitive: sphere;
      radius: 5000;
      segmentsWidth: 64;
      segmentsHeight: 64;"
      material="shader: flat; src: #vid;"
      scale="-1 1 1"
      visible="true"
      rotation="0 -50 0">
    </a-video>  
    <audio id="opening" src="audio/audio1.mp3"></a-audio> 
    
    </a-scene>
    <script type="text/javascript">
      var vid = document.getElementById('vid');
      var var_box1 = document.getElementById("ent_box1");
      var var_box2 = document.getElementById("ent_box2");
      var var_box3 = document.getElementById("ent_box3");
      var var_box4 = document.getElementById("ent_box4");
      var var_box5 = document.getElementById("ent_box5");
      var var_logo = document.getElementById("logo");
      var var_TN = document.getElementById("TN");
      vid.play();
      setTimeout(function(){
         vid.setAttribute('src', 'video/video1.mp4');
         vid.play();
         var_logo.setAttribute('visible', 'false');
         var_TN.setAttribute('visible', 'false');
         },28000);
      setTimeout(function(){
         var_box1.setAttribute('visible', 'true');
         var_box3.setAttribute('visible', 'true');
         },30000);
      setTimeout(function(){
         var_box4.setAttribute('visible', 'true');
         var_box5.setAttribute('visible', 'true');
         },31000);
      setTimeout(function(){
         var_box2.setAttribute('visible', 'true');
         },32000);
    </script>
    <script type="text/javascript">
      var ent_aud = document.getElementById('opening');
      setTimeout(function(){
        ent_aud.play()
        },5000);
    </script>
    <!--  box1 right last
          box5 right middle
          box2 middle
          box3 left last
          box4 left middle -->
  </body>
